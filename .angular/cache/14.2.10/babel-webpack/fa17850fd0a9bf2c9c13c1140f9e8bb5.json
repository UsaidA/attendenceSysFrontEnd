{"ast":null,"code":"import _asyncToGenerator from \"C:/attendenceFrontEnd/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ViewContainerRef, ComponentFactoryResolver } from '@angular/core';\nimport axios from 'axios';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Registration, singletonAuth } from \"../../classes\";\nimport { Router } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\n\nfunction LoginComponent_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"span\", 20);\n    i0.ÉµÉµtext(1, \" email invalid\");\n    i0.ÉµÉµelementEnd();\n  }\n}\n\nexport class LoginComponent {\n  constructor(router, vcr, cfr) {\n    this.router = router;\n    this.vcr = vcr;\n    this.cfr = cfr;\n    this.loginForm = new FormGroup({\n      email: new FormControl('', [Validators.required, Validators.email]),\n      password: new FormControl('')\n    });\n    this.loginText = \"\";\n  }\n\n  ngOnInit() {}\n\n  get email() {\n    console.log(this.loginForm.get('email'));\n    return this.loginForm.get('email');\n  }\n\n  sendLoginRequest(email, password) {\n    const registration = new Registration(email.value, password.value);\n    console.log(registration);\n    const JSONOBJ = JSON.stringify(registration);\n    console.log(JSONOBJ);\n    axios.post('http://localhost:8888/api/login', JSONOBJ, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      if (response.data == \"failed password\" || response.data == \"Email doesn't exist\") {\n        this.loginText = \"password or email incorrect\";\n        console.log(response.data, \"hi here\");\n      } else {\n        console.log(response.data.accessToken, \" access token\");\n        const auth = singletonAuth.getInstance(response.data.accessToken);\n        const stringfyUser = JSON.stringify(registration);\n        localStorage.setItem('registered', stringfyUser);\n\n        if (response.data.accessControl === 1) {\n          console.log(response.data.accessControl, \" in TEACHER CONRTOLLKER\");\n          let promiseArr = [];\n          promiseArr[0] = this.getAllStudents(response.data.accessToken);\n          promiseArr[1] = this.getAllStudentAttendences(response.data.accessToken);\n          promiseArr[2] = this.getAttendenceCode(response.data.accessToken);\n          Promise.all(promiseArr).then(values => {\n            console.log(values);\n            console.log(\"inside teacher promise\");\n            this.loadTeacherDashboard();\n          }).catch(error => console.log('error'));\n        } else if (response.data.accessControl === 0) {\n          console.log(response.data.accessControl, \" in student CONRTOLLKER\");\n          let promiseArr = [];\n          promiseArr[0] = this.getAttendenceData(response.data.accessToken);\n          console.log(this.getAttendenceData(response.data.accessToken));\n          promiseArr[1] = this.getUserData(response.data.accessToken);\n          promiseArr[2] = this.getLectureData(response.data.accessToken);\n          Promise.all(promiseArr).then(values => {\n            console.log(values);\n            console.log(\"inside promise\");\n            this.loadDashboard();\n          }).catch(error => console.log('error'));\n        }\n      }\n\n      console.log(response);\n    }).catch(error => {\n      // Error ðŸ˜¨\n      if (error.response) {\n        /*\r\n         * The request was made and the server responded with a\r\n         * status code that falls out of the range of 2xx\r\n         */\n        console.log(error.response.data);\n        console.log(error.response.status);\n        console.log(error.response.headers);\n      } else if (error.request) {\n        /*\r\n         * The request was made but no response was received, `error.request`\r\n         * is an instance of XMLHttpRequest in the browser and an instance\r\n         * of http.ClientRequest in Node.js\r\n         */\n        console.log(error.request);\n      } else {\n        // Something happened in setting up the request and triggered an Error\n        console.log('Error', error.message);\n      }\n\n      console.log(error.config);\n    });\n    console.log(email.value);\n  }\n\n  loadTeacherDashboard() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.vcr.clear();\n\n      const {\n        TeacherDashboardComponent\n      } = yield import('../teacher-dashboard/teacher-dashboard.component');\n\n      _this.vcr.createComponent(_this.cfr.resolveComponentFactory(TeacherDashboardComponent));\n\n      _this.router.navigate(['/teacherDashboard']);\n    })();\n  }\n\n  loadDashboard() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2.vcr.clear();\n\n      const {\n        DashboardComponent\n      } = yield import('../dashboard/dashboard.component');\n\n      _this2.vcr.createComponent(_this2.cfr.resolveComponentFactory(DashboardComponent));\n\n      _this2.router.navigate(['/dashboard']);\n    })();\n  }\n\n  getAttendenceCode(accessToken) {\n    return new Promise((resolve, reject) => {\n      const yourConfig = {\n        headers: {\n          Authorization: accessToken\n        }\n      };\n      axios.get('http://localhost:8888/api/attendence/getAttendCode', yourConfig).then(response => {\n        if (response.data == \"Admin Only Access\" || response.data == \"Some error occurred while getting attendCode.\") {} else {\n          const jsonUser = JSON.stringify(response.data);\n          console.log(jsonUser, \": attend Code\");\n          localStorage.setItem('attendCode', jsonUser);\n          resolve(response);\n        }\n      }).catch(error => {\n        // Error ðŸ˜¨\n        if (error.response) {\n          console.log(error.response.data);\n          console.log(error.response.status);\n          console.log(error.response.headers);\n        } else if (error.request) {\n          /*\r\n           * The request was made but no response was received, `error.request`\r\n           * is an instance of XMLHttpRequest in the browser and an instance\r\n           * of http.ClientRequest in Node.js\r\n           */\n          console.log(error.request);\n        } else {\n          // Something happened in setting up the request and triggered an Error\n          console.log('Error', error.message);\n        }\n\n        console.log(error.config);\n        reject(error);\n      });\n    });\n  }\n\n  getAllStudentAttendences(accessToken) {\n    return new Promise((resolve, reject) => {\n      const yourConfig = {\n        headers: {\n          Authorization: accessToken\n        }\n      };\n      axios.get('http://localhost:8888/api/attendence/getAllAttendences', yourConfig).then(response => {\n        if (response.data == \"token not valid\" || response.data == \"Access denied\") {} else {\n          const jsonUser = JSON.stringify(response.data);\n          console.log(jsonUser, \": teacher All Attendences\");\n          localStorage.setItem('allStudentAttendences', jsonUser);\n          resolve(response);\n        }\n      }).catch(error => {\n        // Error ðŸ˜¨\n        if (error.response) {\n          console.log(error.response.data);\n          console.log(error.response.status);\n          console.log(error.response.headers);\n        } else if (error.request) {\n          /*\r\n           * The request was made but no response was received, `error.request`\r\n           * is an instance of XMLHttpRequest in the browser and an instance\r\n           * of http.ClientRequest in Node.js\r\n           */\n          console.log(error.request);\n        } else {\n          // Something happened in setting up the request and triggered an Error\n          console.log('Error', error.message);\n        }\n\n        console.log(error.config);\n        reject(error);\n      });\n    });\n  }\n\n  getAllStudents(accessToken) {\n    return new Promise((resolve, reject) => {\n      const yourConfig = {\n        headers: {\n          Authorization: accessToken\n        }\n      };\n      axios.get('http://localhost:8888/api/students/getAll', yourConfig).then(response => {\n        if (response.data == \"Admin Only Access\" || response.data == \"Email doesn't exist\") {} else {\n          const jsonUser = JSON.stringify(response.data);\n          console.log(jsonUser, \": All Students\");\n          localStorage.setItem('allStudents', jsonUser);\n          resolve(response);\n        }\n      }).catch(error => {\n        // Error ðŸ˜¨\n        if (error.response) {\n          console.log(error.response.data);\n          console.log(error.response.status);\n          console.log(error.response.headers);\n        } else if (error.request) {\n          /*\r\n           * The request was made but no response was received, `error.request`\r\n           * is an instance of XMLHttpRequest in the browser and an instance\r\n           * of http.ClientRequest in Node.js\r\n           */\n          console.log(error.request);\n        } else {\n          // Something happened in setting up the request and triggered an Error\n          console.log('Error', error.message);\n        }\n\n        console.log(error.config);\n        reject(error);\n      });\n    });\n  }\n\n  getAttendenceData(accessToken) {\n    return new Promise((resolve, reject) => {\n      const yourConfig = {\n        headers: {\n          Authorization: accessToken\n        }\n      };\n      axios.get('http://localhost:8888/api/attendence/getAttendence', yourConfig).then(response => {\n        if (response.data == \"failed password\" || response.data == \"Email doesn't exist\") {} else {\n          const jsonUser = JSON.stringify(response.data);\n          console.log(jsonUser, \": json user Attendence\");\n          localStorage.setItem('attendence', jsonUser);\n          resolve(response);\n        }\n      }).catch(error => {\n        // Error ðŸ˜¨\n        if (error.response) {\n          console.log(error.response.data);\n          console.log(error.response.status);\n          console.log(error.response.headers);\n        } else if (error.request) {\n          /*\r\n           * The request was made but no response was received, `error.request`\r\n           * is an instance of XMLHttpRequest in the browser and an instance\r\n           * of http.ClientRequest in Node.js\r\n           */\n          console.log(error.request);\n        } else {\n          // Something happened in setting up the request and triggered an Error\n          console.log('Error', error.message);\n        }\n\n        console.log(error.config);\n        reject(error);\n      });\n    });\n  }\n\n  getLectureData(accessToken) {\n    return new Promise((resolve, reject) => {\n      const yourConfig = {\n        headers: {\n          Authorization: accessToken\n        }\n      };\n      axios.get('http://localhost:8888/api/lectures/allLectures', yourConfig).then(response => {\n        if (response.data == \"failed password\" || response.data == \"Email doesn't exist\") {} else {\n          const jsonUser = JSON.stringify(response.data);\n          console.log(jsonUser, \"  : lectures response\");\n          localStorage.setItem('lectures', jsonUser);\n          resolve(response);\n        }\n      }).catch(error => {\n        // Error ðŸ˜¨\n        if (error.response) {\n          /*\r\n           * The request was made and the server responded with a\r\n           * status code that falls out of the range of 2xx\r\n           */\n          console.log(error.response.data);\n          console.log(error.response.status);\n          console.log(error.response.headers);\n        } else if (error.request) {\n          /*\r\n           * The request was made but no response was received, `error.request`\r\n           * is an instance of XMLHttpRequest in the browser and an instance\r\n           * of http.ClientRequest in Node.js\r\n           */\n          console.log(error.request);\n        } else {\n          // Something happened in setting up the request and triggered an Error\n          console.log('Error', error.message);\n        }\n\n        console.log(error.config);\n      });\n    });\n  }\n\n  getUserData(accessToken) {\n    return new Promise((resolve, reject) => {\n      console.log(\"hiadsfasdfasdfaswdfsdfaaaaaaaaaaaaaaaaaaa\");\n      const yourConfig = {\n        headers: {\n          Authorization: accessToken\n        }\n      };\n      axios.get('http://localhost:8888/api/students/getOneStudent', yourConfig).then(response => {\n        if (response.data == \"failed password\" || response.data == \"Email doesn't exist\") {} else {\n          const jsonUser = JSON.stringify(response.data);\n          console.log(jsonUser, \"   : user data response\");\n          localStorage.setItem('user', jsonUser);\n          resolve(response);\n        }\n      }).catch(error => {\n        // Error ðŸ˜¨\n        if (error.response) {\n          /*\r\n           * The request was made and the server responded with a\r\n           * status code that falls out of the range of 2xx\r\n           */\n          console.log(error.response.data);\n          console.log(error.response.status);\n          console.log(error.response.headers);\n        } else if (error.request) {\n          /*\r\n           * The request was made but no response was received, `error.request`\r\n           * is an instance of XMLHttpRequest in the browser and an instance\r\n           * of http.ClientRequest in Node.js\r\n           */\n          console.log(error.request);\n        } else {\n          // Something happened in setting up the request and triggered an Error\n          console.log('Error', error.message);\n        }\n\n        console.log(error.config);\n      });\n    });\n  }\n\n}\n\nLoginComponent.Éµfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ÉµÉµdirectiveInject(i1.Router), i0.ÉµÉµdirectiveInject(i0.ViewContainerRef), i0.ÉµÉµdirectiveInject(i0.ComponentFactoryResolver));\n};\n\nLoginComponent.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 28,\n  vars: 3,\n  consts: [[1, \"vh-100\", \"gradient-custom\"], [1, \"container\", \"py-5\", \"h-100\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"h-100\"], [1, \"col-12\", \"col-md-8\", \"col-lg-6\", \"col-xl-5\"], [1, \"card\", \"bg-dark\", \"text-white\", 2, \"border-radius\", \"1rem\"], [1, \"card-body\", \"p-5\", \"text-center\"], [1, \"mb-md-5\", \"mt-md-4\", \"pb-5\"], [1, \"fw-bold\", \"mb-2\", \"text-uppercase\"], [1, \"text-white-50\", \"mb-5\"], [3, \"formGroup\"], [1, \"form-outline\", \"form-white\", \"mb-4\", \"form-group\"], [\"for\", \"typeEmailX\", 1, \"form-label\"], [\"type\", \"email\", \"id\", \"typeEmailX\", \"formControlName\", \"email\", 1, \"form-control\", \"form-control-lg\"], [\"email\", \"\"], [\"class\", \"error\", 4, \"ngIf\"], [1, \"form-outline\", \"form-white\", \"mb-4\"], [\"type\", \"password\", \"id\", \"typePasswordX\", 1, \"form-control\", \"form-control-lg\"], [\"password\", \"\"], [\"for\", \"typePasswordX\", 1, \"form-label\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-light\", \"btn-lg\", \"px-5\", 3, \"click\"], [1, \"error\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r3 = i0.ÉµÉµgetCurrentView();\n\n      i0.ÉµÉµelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"div\", 6)(7, \"h2\", 7);\n      i0.ÉµÉµtext(8, \"Login\");\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelementStart(9, \"p\", 8);\n      i0.ÉµÉµtext(10, \"Please enter your login and password!\");\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelementStart(11, \"form\", 9)(12, \"div\", 10)(13, \"label\", 11);\n      i0.ÉµÉµtext(14, \"Email\");\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelement(15, \"input\", 12, 13);\n      i0.ÉµÉµtemplate(17, LoginComponent_span_17_Template, 2, 0, \"span\", 14);\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelementStart(18, \"div\", 15);\n      i0.ÉµÉµelement(19, \"input\", 16, 17);\n      i0.ÉµÉµelementStart(21, \"label\", 18);\n      i0.ÉµÉµtext(22, \"Password\");\n      i0.ÉµÉµelementEnd()();\n      i0.ÉµÉµelement(23, \"br\");\n      i0.ÉµÉµelementStart(24, \"h3\");\n      i0.ÉµÉµtext(25);\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelementStart(26, \"button\", 19);\n      i0.ÉµÉµlistener(\"click\", function LoginComponent_Template_button_click_26_listener() {\n        i0.ÉµÉµrestoreView(_r3);\n\n        const _r0 = i0.ÉµÉµreference(16);\n\n        const _r2 = i0.ÉµÉµreference(20);\n\n        return i0.ÉµÉµresetView(ctx.sendLoginRequest(_r0, _r2));\n      });\n      i0.ÉµÉµtext(27, \"Login \");\n      i0.ÉµÉµelementEnd()()()()()()()()();\n    }\n\n    if (rf & 2) {\n      const _r0 = i0.ÉµÉµreference(16);\n\n      i0.ÉµÉµadvance(11);\n      i0.ÉµÉµproperty(\"formGroup\", ctx.loginForm);\n      i0.ÉµÉµadvance(6);\n      i0.ÉµÉµproperty(\"ngIf\", _r0.oninvalid);\n      i0.ÉµÉµadvance(8);\n      i0.ÉµÉµtextInterpolate1(\" \", ctx.loginText, \"\");\n    }\n  },\n  dependencies: [i2.NgIf, i3.ÉµNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsb2dpbi5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"mappings":";AAAA,SAA4BA,gBAA5B,EAA8CC,wBAA9C,QAA+E,eAA/E;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,SAAtB,EAAiCC,UAAjC,QAAwE,gBAAxE;AACA,SAAQC,YAAR,EAA8BC,aAA9B,QAAkD,eAAlD;AACA,SAASC,MAAT,QAAiD,iBAAjD;;;;;;;;ICiBwBC;IAA+CA;IAAaA;;;;ADLpF,OAAM,MAAOC,cAAP,CAAqB;EAOzBC,YAAmBC,MAAnB,EAA2CC,GAA3C,EAAyEC,GAAzE,EAAsG;IAAnF;IAAwB;IAA8B;IALzE,iBAAY,IAAIV,SAAJ,CAAc;MACxBW,KAAK,EAAE,IAAIZ,WAAJ,CAAgB,EAAhB,EAAmB,CAACE,UAAU,CAACW,QAAZ,EAAsBX,UAAU,CAACU,KAAjC,CAAnB,CADiB;MAExBE,QAAQ,EAAE,IAAId,WAAJ,CAAgB,EAAhB;IAFc,CAAd,CAAZ;IAOA,iBAAY,EAAZ;EAF2G;;EAI3Ge,QAAQ,IACP;;EAKQ,IAALH,KAAK;IAAGI,OAAO,CAACC,GAAR,CAAY,KAAKC,SAAL,CAAeC,GAAf,CAAmB,OAAnB,CAAZ;IAA0C,OAAQ,KAAKD,SAAL,CAAeC,GAAf,CAAmB,OAAnB,CAAR;EAAoC;;EAE1FC,gBAAgB,CAACR,KAAD,EAAaE,QAAb,EAA0B;IACxC,MAAMO,YAAY,GAAG,IAAIlB,YAAJ,CAAiBS,KAAK,CAACU,KAAvB,EAA8BR,QAAQ,CAACQ,KAAvC,CAArB;IAEAN,OAAO,CAACC,GAAR,CAAYI,YAAZ;IACA,MAAME,OAAO,GAAGC,IAAI,CAACC,SAAL,CAAeJ,YAAf,CAAhB;IACAL,OAAO,CAACC,GAAR,CAAYM,OAAZ;IACAxB,KAAK,CAAC2B,IAAN,CAAW,iCAAX,EAA8CH,OAA9C,EAAuD;MAACI,OAAO,EAAC;QAAC,gBAAe;MAAhB;IAAT,CAAvD,EACCC,IADD,CACOC,QAAD,IAAa;MACjB,IAAIA,QAAQ,CAACC,IAAT,IAAgB,iBAAhB,IAAqCD,QAAQ,CAACC,IAAT,IAAiB,qBAA1D,EAAgF;QAC9E,KAAKC,SAAL,GAAiB,6BAAjB;QACAf,OAAO,CAACC,GAAR,CAAYY,QAAQ,CAACC,IAArB,EAA2B,SAA3B;MACD,CAHD,MAGK;QACHd,OAAO,CAACC,GAAR,CAAYY,QAAQ,CAACC,IAAT,CAAcE,WAA1B,EAAuC,eAAvC;QAEA,MAAMC,IAAI,GAAG7B,aAAa,CAAC8B,WAAd,CAA0BL,QAAQ,CAACC,IAAT,CAAcE,WAAxC,CAAb;QACA,MAAMG,YAAY,GAAGX,IAAI,CAACC,SAAL,CAAeJ,YAAf,CAArB;QACAe,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAkCF,YAAlC;;QAGA,IAAGN,QAAQ,CAACC,IAAT,CAAcQ,aAAd,KAAgC,CAAnC,EAAqC;UACnCtB,OAAO,CAACC,GAAR,CAAYY,QAAQ,CAACC,IAAT,CAAcQ,aAA1B,EAAyC,yBAAzC;UACA,IAAIC,UAAU,GAAmB,EAAjC;UACAA,UAAU,CAAC,CAAD,CAAV,GAAgB,KAAKC,cAAL,CAAoBX,QAAQ,CAACC,IAAT,CAAcE,WAAlC,CAAhB;UACAO,UAAU,CAAC,CAAD,CAAV,GAAgB,KAAKE,wBAAL,CAA8BZ,QAAQ,CAACC,IAAT,CAAcE,WAA5C,CAAhB;UACAO,UAAU,CAAC,CAAD,CAAV,GAAgB,KAAKG,iBAAL,CAAuBb,QAAQ,CAACC,IAAT,CAAcE,WAArC,CAAhB;UACAW,OAAO,CAACC,GAAR,CAAYL,UAAZ,EAAwBX,IAAxB,CAA8BiB,MAAD,IAAW;YACtC7B,OAAO,CAACC,GAAR,CAAY4B,MAAZ;YACA7B,OAAO,CAACC,GAAR,CAAY,wBAAZ;YACA,KAAK6B,oBAAL;UACD,CAJD,EAIGC,KAJH,CAISC,KAAK,IAAGhC,OAAO,CAACC,GAAR,CAAY,OAAZ,CAJjB;QAQD,CAdD,MAcM,IAAGY,QAAQ,CAACC,IAAT,CAAcQ,aAAd,KAAgC,CAAnC,EAAqC;UAEzCtB,OAAO,CAACC,GAAR,CAAYY,QAAQ,CAACC,IAAT,CAAcQ,aAA1B,EAAyC,yBAAzC;UACA,IAAIC,UAAU,GAAmB,EAAjC;UACAA,UAAU,CAAC,CAAD,CAAV,GAAgB,KAAKU,iBAAL,CAAuBpB,QAAQ,CAACC,IAAT,CAAcE,WAArC,CAAhB;UACAhB,OAAO,CAACC,GAAR,CAAY,KAAKgC,iBAAL,CAAuBpB,QAAQ,CAACC,IAAT,CAAcE,WAArC,CAAZ;UACAO,UAAU,CAAC,CAAD,CAAV,GAAgB,KAAKW,WAAL,CAAiBrB,QAAQ,CAACC,IAAT,CAAcE,WAA/B,CAAhB;UACAO,UAAU,CAAC,CAAD,CAAV,GAAgB,KAAKY,cAAL,CAAoBtB,QAAQ,CAACC,IAAT,CAAcE,WAAlC,CAAhB;UAEAW,OAAO,CAACC,GAAR,CAAYL,UAAZ,EAAwBX,IAAxB,CAA8BiB,MAAD,IAAW;YACtC7B,OAAO,CAACC,GAAR,CAAY4B,MAAZ;YACA7B,OAAO,CAACC,GAAR,CAAY,gBAAZ;YACA,KAAKmC,aAAL;UACD,CAJD,EAIGL,KAJH,CAISC,KAAK,IAAGhC,OAAO,CAACC,GAAR,CAAY,OAAZ,CAJjB;QAKD;MAMF;;MACDD,OAAO,CAACC,GAAR,CAAYY,QAAZ;IAEH,CAlDC,EAmDDkB,KAnDC,CAmDMC,KAAD,IAAU;MACb;MACA,IAAIA,KAAK,CAACnB,QAAV,EAAoB;QAChB;;;;QAIAb,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACnB,QAAN,CAAeC,IAA3B;QACAd,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACnB,QAAN,CAAewB,MAA3B;QACArC,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACnB,QAAN,CAAeF,OAA3B;MACH,CARD,MAQO,IAAIqB,KAAK,CAACM,OAAV,EAAmB;QACtB;;;;;QAKAtC,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACM,OAAlB;MACH,CAPM,MAOA;QACH;QACAtC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB+B,KAAK,CAACO,OAA3B;MACH;;MACDvC,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACQ,MAAlB;IACH,CAzEC;IA2EAxC,OAAO,CAACC,GAAR,CAAYL,KAAK,CAACU,KAAlB;EAED;;EAGGwB,oBAAoB;IAAA;;IAAA;MAExB,KAAI,CAACpC,GAAL,CAAS+C,KAAT;;MACA,MAAM;QAACC;MAAD,UAAoC,OAAO,kDAAP,CAA1C;;MACA,KAAI,CAAChD,GAAL,CAASiD,eAAT,CAAyB,KAAI,CAAChD,GAAL,CAASiD,uBAAT,CAAiCF,yBAAjC,CAAzB;;MACA,KAAI,CAACjD,MAAL,CAAYoD,QAAZ,CAAqB,CAAC,mBAAD,CAArB;IALwB;EAMzB;;EAEKT,aAAa;IAAA;;IAAA;MACjB,MAAI,CAAC1C,GAAL,CAAS+C,KAAT;;MACA,MAAM;QAACK;MAAD,UAA6B,OAAO,kCAAP,CAAnC;;MACA,MAAI,CAACpD,GAAL,CAASiD,eAAT,CAAyB,MAAI,CAAChD,GAAL,CAASiD,uBAAT,CAAiCE,kBAAjC,CAAzB;;MAGA,MAAI,CAACrD,MAAL,CAAYoD,QAAZ,CAAqB,CAAC,YAAD,CAArB;IANiB;EAOlB;;EAGDnB,iBAAiB,CAACV,WAAD,EAAoB;IACnC,OAAO,IAAIW,OAAJ,CAAY,CAACoB,OAAD,EAAUC,MAAV,KAAoB;MACrC,MAAMC,UAAU,GAAG;QACjBtC,OAAO,EAAE;UACNuC,aAAa,EAAElC;QADT;MADQ,CAAnB;MAKDjC,KAAK,CAACoB,GAAN,CAAU,oDAAV,EAAgE8C,UAAhE,EACCrC,IADD,CACOC,QAAD,IAAa;QACjB,IAAGA,QAAQ,CAACC,IAAT,IAAgB,mBAAhB,IAAuCD,QAAQ,CAACC,IAAT,IAAiB,+CAA3D,EAA2G,CAC1G,CADD,MACK;UACH,MAAMqC,QAAQ,GAAG3C,IAAI,CAACC,SAAL,CAAeI,QAAQ,CAACC,IAAxB,CAAjB;UACAd,OAAO,CAACC,GAAR,CAAYkD,QAAZ,EAAsB,eAAtB;UACA/B,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAkC8B,QAAlC;UACAJ,OAAO,CAAClC,QAAD,CAAP;QACD;MACH,CATA,EAUAkB,KAVA,CAUOC,KAAD,IAAU;QACd;QACA,IAAIA,KAAK,CAACnB,QAAV,EAAoB;UAEhBb,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACnB,QAAN,CAAeC,IAA3B;UACAd,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACnB,QAAN,CAAewB,MAA3B;UACArC,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACnB,QAAN,CAAeF,OAA3B;QACH,CALD,MAKO,IAAIqB,KAAK,CAACM,OAAV,EAAmB;UACtB;;;;;UAKAtC,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACM,OAAlB;QACH,CAPM,MAOA;UACH;UACAtC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB+B,KAAK,CAACO,OAA3B;QACH;;QACDvC,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACQ,MAAlB;QACAQ,MAAM,CAAChB,KAAD,CAAN;MACF,CA9BA;IA+BA,CArCM,CAAP;EAuCD;;EAEDP,wBAAwB,CAACT,WAAD,EAAoB;IAC1C,OAAO,IAAIW,OAAJ,CAAY,CAACoB,OAAD,EAAUC,MAAV,KAAoB;MACrC,MAAMC,UAAU,GAAG;QACjBtC,OAAO,EAAE;UACNuC,aAAa,EAAElC;QADT;MADQ,CAAnB;MAKDjC,KAAK,CAACoB,GAAN,CAAU,wDAAV,EAAoE8C,UAApE,EACCrC,IADD,CACOC,QAAD,IAAa;QACjB,IAAGA,QAAQ,CAACC,IAAT,IAAgB,iBAAhB,IAAqCD,QAAQ,CAACC,IAAT,IAAiB,eAAzD,EAAyE,CACxE,CADD,MACK;UACH,MAAMqC,QAAQ,GAAG3C,IAAI,CAACC,SAAL,CAAeI,QAAQ,CAACC,IAAxB,CAAjB;UACAd,OAAO,CAACC,GAAR,CAAYkD,QAAZ,EAAsB,2BAAtB;UACA/B,YAAY,CAACC,OAAb,CAAqB,uBAArB,EAA6C8B,QAA7C;UACAJ,OAAO,CAAClC,QAAD,CAAP;QACD;MACH,CATA,EAUAkB,KAVA,CAUOC,KAAD,IAAU;QACd;QACA,IAAIA,KAAK,CAACnB,QAAV,EAAoB;UAEhBb,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACnB,QAAN,CAAeC,IAA3B;UACAd,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACnB,QAAN,CAAewB,MAA3B;UACArC,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACnB,QAAN,CAAeF,OAA3B;QACH,CALD,MAKO,IAAIqB,KAAK,CAACM,OAAV,EAAmB;UACtB;;;;;UAKAtC,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACM,OAAlB;QACH,CAPM,MAOA;UACH;UACAtC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB+B,KAAK,CAACO,OAA3B;QACH;;QACDvC,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACQ,MAAlB;QACAQ,MAAM,CAAChB,KAAD,CAAN;MACF,CA9BA;IA+BA,CArCM,CAAP;EAsCD;;EAEDR,cAAc,CAACR,WAAD,EAAoB;IAChC,OAAO,IAAIW,OAAJ,CAAY,CAACoB,OAAD,EAAUC,MAAV,KAAoB;MACrC,MAAMC,UAAU,GAAG;QACjBtC,OAAO,EAAE;UACNuC,aAAa,EAAElC;QADT;MADQ,CAAnB;MAKDjC,KAAK,CAACoB,GAAN,CAAU,2CAAV,EAAuD8C,UAAvD,EACCrC,IADD,CACOC,QAAD,IAAa;QACjB,IAAGA,QAAQ,CAACC,IAAT,IAAgB,mBAAhB,IAAuCD,QAAQ,CAACC,IAAT,IAAiB,qBAA3D,EAAiF,CAChF,CADD,MACK;UACH,MAAMqC,QAAQ,GAAG3C,IAAI,CAACC,SAAL,CAAeI,QAAQ,CAACC,IAAxB,CAAjB;UACAd,OAAO,CAACC,GAAR,CAAYkD,QAAZ,EAAsB,gBAAtB;UACA/B,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAmC8B,QAAnC;UACAJ,OAAO,CAAClC,QAAD,CAAP;QACD;MACH,CATA,EAUAkB,KAVA,CAUOC,KAAD,IAAU;QACd;QACA,IAAIA,KAAK,CAACnB,QAAV,EAAoB;UAEhBb,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACnB,QAAN,CAAeC,IAA3B;UACAd,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACnB,QAAN,CAAewB,MAA3B;UACArC,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACnB,QAAN,CAAeF,OAA3B;QACH,CALD,MAKO,IAAIqB,KAAK,CAACM,OAAV,EAAmB;UACtB;;;;;UAKAtC,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACM,OAAlB;QACH,CAPM,MAOA;UACH;UACAtC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB+B,KAAK,CAACO,OAA3B;QACH;;QACDvC,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACQ,MAAlB;QACAQ,MAAM,CAAChB,KAAD,CAAN;MACF,CA9BA;IA+BA,CArCM,CAAP;EAsCD;;EAEAC,iBAAiB,CAACjB,WAAD,EAAoB;IACpC,OAAO,IAAIW,OAAJ,CAAY,CAACoB,OAAD,EAAUC,MAAV,KAAoB;MACrC,MAAMC,UAAU,GAAG;QACjBtC,OAAO,EAAE;UACNuC,aAAa,EAAElC;QADT;MADQ,CAAnB;MAKDjC,KAAK,CAACoB,GAAN,CAAU,oDAAV,EAAgE8C,UAAhE,EACCrC,IADD,CACOC,QAAD,IAAa;QACjB,IAAGA,QAAQ,CAACC,IAAT,IAAgB,iBAAhB,IAAqCD,QAAQ,CAACC,IAAT,IAAiB,qBAAzD,EAA+E,CAC9E,CADD,MACK;UACH,MAAMqC,QAAQ,GAAG3C,IAAI,CAACC,SAAL,CAAeI,QAAQ,CAACC,IAAxB,CAAjB;UACAd,OAAO,CAACC,GAAR,CAAYkD,QAAZ,EAAsB,wBAAtB;UACA/B,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAkC8B,QAAlC;UACAJ,OAAO,CAAClC,QAAD,CAAP;QACD;MACH,CATA,EAUAkB,KAVA,CAUOC,KAAD,IAAU;QACd;QACA,IAAIA,KAAK,CAACnB,QAAV,EAAoB;UAEhBb,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACnB,QAAN,CAAeC,IAA3B;UACAd,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACnB,QAAN,CAAewB,MAA3B;UACArC,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACnB,QAAN,CAAeF,OAA3B;QACH,CALD,MAKO,IAAIqB,KAAK,CAACM,OAAV,EAAmB;UACtB;;;;;UAKAtC,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACM,OAAlB;QACH,CAPM,MAOA;UACH;UACAtC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB+B,KAAK,CAACO,OAA3B;QACH;;QACDvC,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACQ,MAAlB;QACAQ,MAAM,CAAChB,KAAD,CAAN;MACF,CA9BA;IA+BA,CArCM,CAAP;EAsCD;;EAGDG,cAAc,CAACnB,WAAD,EAAmB;IAE/B,OAAO,IAAIW,OAAJ,CAAY,CAACoB,OAAD,EAAUC,MAAV,KAAoB;MAGvC,MAAMC,UAAU,GAAG;QACjBtC,OAAO,EAAE;UACNuC,aAAa,EAAElC;QADT;MADQ,CAAnB;MAKDjC,KAAK,CAACoB,GAAN,CAAU,gDAAV,EAA4D8C,UAA5D,EACCrC,IADD,CACOC,QAAD,IAAa;QACjB,IAAGA,QAAQ,CAACC,IAAT,IAAgB,iBAAhB,IAAqCD,QAAQ,CAACC,IAAT,IAAiB,qBAAzD,EAA+E,CAC9E,CADD,MACK;UACH,MAAMqC,QAAQ,GAAG3C,IAAI,CAACC,SAAL,CAAeI,QAAQ,CAACC,IAAxB,CAAjB;UACAd,OAAO,CAACC,GAAR,CAAYkD,QAAZ,EAAsB,uBAAtB;UACA/B,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAgC8B,QAAhC;UACAJ,OAAO,CAAClC,QAAD,CAAP;QACD;MAEH,CAVA,EAWAkB,KAXA,CAWOC,KAAD,IAAU;QACd;QACA,IAAIA,KAAK,CAACnB,QAAV,EAAoB;UAChB;;;;UAIAb,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACnB,QAAN,CAAeC,IAA3B;UACAd,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACnB,QAAN,CAAewB,MAA3B;UACArC,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACnB,QAAN,CAAeF,OAA3B;QACH,CARD,MAQO,IAAIqB,KAAK,CAACM,OAAV,EAAmB;UACtB;;;;;UAKAtC,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACM,OAAlB;QACH,CAPM,MAOA;UACH;UACAtC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB+B,KAAK,CAACO,OAA3B;QACH;;QACDvC,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACQ,MAAlB;MACF,CAjCA;IAkCE,CA1CM,CAAP;EA8CD;;EAEDN,WAAW,CAAClB,WAAD,EAAmB;IAC5B,OAAO,IAAIW,OAAJ,CAAY,CAACoB,OAAD,EAAUC,MAAV,KAAoB;MAErChD,OAAO,CAACC,GAAR,CAAY,2CAAZ;MACA,MAAMgD,UAAU,GAAG;QACjBtC,OAAO,EAAE;UACNuC,aAAa,EAAElC;QADT;MADQ,CAAnB;MAKAjC,KAAK,CAACoB,GAAN,CAAU,kDAAV,EAA8D8C,UAA9D,EACCrC,IADD,CACOC,QAAD,IAAa;QACjB,IAAGA,QAAQ,CAACC,IAAT,IAAgB,iBAAhB,IAAqCD,QAAQ,CAACC,IAAT,IAAiB,qBAAzD,EAA+E,CAC9E,CADD,MACK;UAEH,MAAMqC,QAAQ,GAAG3C,IAAI,CAACC,SAAL,CAAeI,QAAQ,CAACC,IAAxB,CAAjB;UACAd,OAAO,CAACC,GAAR,CAAYkD,QAAZ,EAAsB,yBAAtB;UAEA/B,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA4B8B,QAA5B;UACAJ,OAAO,CAAClC,QAAD,CAAP;QAED;MACJ,CAZC,EAaDkB,KAbC,CAaMC,KAAD,IAAU;QACb;QACA,IAAIA,KAAK,CAACnB,QAAV,EAAoB;UAChB;;;;UAIAb,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACnB,QAAN,CAAeC,IAA3B;UACAd,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACnB,QAAN,CAAewB,MAA3B;UACArC,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACnB,QAAN,CAAeF,OAA3B;QACH,CARD,MAQO,IAAIqB,KAAK,CAACM,OAAV,EAAmB;UACtB;;;;;UAKAtC,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACM,OAAlB;QACH,CAPM,MAOA;UACH;UACAtC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB+B,KAAK,CAACO,OAA3B;QACH;;QACDvC,OAAO,CAACC,GAAR,CAAY+B,KAAK,CAACQ,MAAlB;MACH,CAnCC;IAoCD,CA5CM,CAAP;EA6CD;;AAjY0B;;;mBAAdjD,gBAAcD;AAAA;;;QAAdC;EAAc6D;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;;;MCZvBlE,mCAAwC,CAAxC,EAAwC,KAAxC,EAAwC,CAAxC,EAAwC,CAAxC,EAAwC,KAAxC,EAAwC,CAAxC,EAAwC,CAAxC,EAAwC,KAAxC,EAAwC,CAAxC,EAAwC,CAAxC,EAAwC,KAAxC,EAAwC,CAAxC,EAAwC,CAAxC,EAAwC,KAAxC,EAAwC,CAAxC,EAAwC,CAAxC,EAAwC,KAAxC,EAAwC,CAAxC,EAAwC,CAAxC,EAAwC,IAAxC,EAAwC,CAAxC;MASwDA;MAAKA;MAC7CA;MAA8BA;MAAqCA;MAEnEA,iCAAgC,EAAhC,EAAgC,KAAhC,EAAgC,EAAhC,EAAgC,EAAhC,EAAgC,OAAhC,EAAgC,EAAhC;MAG+CA;MAAKA;MAChDA;MACAA;MAEFA;MAEAA;MAEEA;MACAA;MAA8CA;MAAQA;MAIxDA;MACAA;MAAKA;MAAaA;MAElBA;MAAiEA;QAAAA;;QAAA;;QAAA;;QAAA,OAAUA,8CAAV;MAA0C,CAA1C;MAA4CA;MAAMA;;;;;;MAnB/GA;MAAAA;MAKqBA;MAAAA;MAYpBA;MAAAA","names":["ViewContainerRef","ComponentFactoryResolver","axios","FormControl","FormGroup","Validators","Registration","singletonAuth","Router","i0","LoginComponent","constructor","router","vcr","cfr","email","required","password","ngOnInit","console","log","loginForm","get","sendLoginRequest","registration","value","JSONOBJ","JSON","stringify","post","headers","then","response","data","loginText","accessToken","auth","getInstance","stringfyUser","localStorage","setItem","accessControl","promiseArr","getAllStudents","getAllStudentAttendences","getAttendenceCode","Promise","all","values","loadTeacherDashboard","catch","error","getAttendenceData","getUserData","getLectureData","loadDashboard","status","request","message","config","clear","TeacherDashboardComponent","createComponent","resolveComponentFactory","navigate","DashboardComponent","resolve","reject","yourConfig","Authorization","jsonUser","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\attendenceFrontEnd\\src\\app\\login\\login.component.ts","C:\\attendenceFrontEnd\\src\\app\\login\\login.component.html"],"sourcesContent":["import { Component, OnInit, ViewContainerRef, ComponentFactoryResolver  } from '@angular/core';\r\nimport axios from 'axios';\r\nimport { FormControl, FormGroup, Validators, ReactiveFormsModule } from '@angular/forms';\r\nimport {Registration,Student, singletonAuth} from \"../../classes\"\r\nimport { Router, ActivatedRoute, ParamMap } from '@angular/router';\r\nimport { NavigationExtras } from '@angular/router';\r\nimport { JsonPipe } from '@angular/common';\r\nimport { data } from 'jquery';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n  loginForm = new FormGroup({\r\n    email: new FormControl('',[Validators.required, Validators.email]),\r\n    password: new FormControl('')\r\n  })\r\n\r\n  constructor(public router :Router, private vcr:ViewContainerRef, private cfr: ComponentFactoryResolver) { }\r\n\r\n  loginText = \"\";\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n\r\n\r\n\r\n  get email(){console.log(this.loginForm.get('email')); return  this.loginForm.get('email')}\r\n\r\n  sendLoginRequest(email: any, password: any){\r\n    const registration = new Registration(email.value, password.value);\r\n   \r\n    console.log(registration)\r\n    const JSONOBJ = JSON.stringify(registration);\r\n    console.log(JSONOBJ)\r\n    axios.post('http://localhost:8888/api/login', JSONOBJ, {headers:{'Content-Type':'application/json'}})\r\n    .then((response) => {\r\n      if (response.data ==\"failed password\" || response.data == \"Email doesn't exist\"){\r\n        this.loginText = \"password or email incorrect\"\r\n        console.log(response.data, \"hi here\")\r\n      }else{\r\n        console.log(response.data.accessToken, \" access token\");\r\n\r\n        const auth = singletonAuth.getInstance(response.data.accessToken);\r\n        const stringfyUser = JSON.stringify(registration);\r\n        localStorage.setItem('registered',stringfyUser)\r\n\r\n        \r\n        if(response.data.accessControl === 1){\r\n          console.log(response.data.accessControl, \" in TEACHER CONRTOLLKER\")\r\n          let promiseArr: Promise<any>[] = [];\r\n          promiseArr[0] = this.getAllStudents(response.data.accessToken);\r\n          promiseArr[1] = this.getAllStudentAttendences(response.data.accessToken);\r\n          promiseArr[2] = this.getAttendenceCode(response.data.accessToken);\r\n          Promise.all(promiseArr).then((values) => {\r\n            console.log(values)\r\n            console.log(\"inside teacher promise\");\r\n            this.loadTeacherDashboard();\r\n          }).catch(error=> console.log('error'))\r\n          \r\n         \r\n\r\n        }else if(response.data.accessControl === 0){\r\n\r\n          console.log(response.data.accessControl, \" in student CONRTOLLKER\")\r\n          let promiseArr: Promise<any>[] = [];\r\n          promiseArr[0] = this.getAttendenceData(response.data.accessToken)\r\n          console.log(this.getAttendenceData(response.data.accessToken))\r\n          promiseArr[1] = this.getUserData(response.data.accessToken)\r\n          promiseArr[2] = this.getLectureData(response.data.accessToken)\r\n  \r\n          Promise.all(promiseArr).then((values) => {\r\n            console.log(values)\r\n            console.log(\"inside promise\");\r\n            this.loadDashboard();\r\n          }).catch(error=> console.log('error'))\r\n        }\r\n\r\n         \r\n        \r\n        \r\n        \r\n      }\r\n      console.log(response);\r\n     \r\n  })\r\n  .catch((error) => {\r\n      // Error ðŸ˜¨\r\n      if (error.response) {\r\n          /*\r\n           * The request was made and the server responded with a\r\n           * status code that falls out of the range of 2xx\r\n           */\r\n          console.log(error.response.data);\r\n          console.log(error.response.status);\r\n          console.log(error.response.headers);\r\n      } else if (error.request) {\r\n          /*\r\n           * The request was made but no response was received, `error.request`\r\n           * is an instance of XMLHttpRequest in the browser and an instance\r\n           * of http.ClientRequest in Node.js\r\n           */\r\n          console.log(error.request);\r\n      } else {\r\n          // Something happened in setting up the request and triggered an Error\r\n          console.log('Error', error.message);\r\n      }\r\n      console.log(error.config);\r\n  });\r\n    \r\n    console.log(email.value);\r\n\r\n  }\r\n\r\n\r\nasync loadTeacherDashboard(){\r\n\r\n  this.vcr.clear();\r\n  const {TeacherDashboardComponent} = await import('../teacher-dashboard/teacher-dashboard.component');\r\n  this.vcr.createComponent(this.cfr.resolveComponentFactory(TeacherDashboardComponent));\r\n  this.router.navigate(['/teacherDashboard']);\r\n}\r\n\r\nasync loadDashboard(){\r\n  this.vcr.clear();\r\n  const {DashboardComponent} = await import('../dashboard/dashboard.component');\r\n  this.vcr.createComponent(this.cfr.resolveComponentFactory(DashboardComponent));\r\n\r\n\r\n  this.router.navigate(['/dashboard']);\r\n}\r\n\r\n\r\ngetAttendenceCode(accessToken: string):Promise<any>{\r\n  return new Promise((resolve, reject )=>{\r\n    const yourConfig = {\r\n      headers: {\r\n         Authorization: accessToken\r\n      }\r\n   }\r\n   axios.get('http://localhost:8888/api/attendence/getAttendCode', yourConfig)\r\n   .then((response) => {\r\n     if(response.data ==\"Admin Only Access\" || response.data == \"Some error occurred while getting attendCode.\"){\r\n     }else{\r\n       const jsonUser = JSON.stringify(response.data)\r\n       console.log(jsonUser, \": attend Code\")\r\n       localStorage.setItem('attendCode',jsonUser)\r\n       resolve(response);\r\n     }\r\n  })\r\n  .catch((error) => {\r\n     // Error ðŸ˜¨\r\n     if (error.response) {\r\n         \r\n         console.log(error.response.data);\r\n         console.log(error.response.status);\r\n         console.log(error.response.headers);\r\n     } else if (error.request) {\r\n         /*\r\n          * The request was made but no response was received, `error.request`\r\n          * is an instance of XMLHttpRequest in the browser and an instance\r\n          * of http.ClientRequest in Node.js\r\n          */\r\n         console.log(error.request);\r\n     } else {\r\n         // Something happened in setting up the request and triggered an Error\r\n         console.log('Error', error.message);\r\n     }\r\n     console.log(error.config);\r\n     reject(error)\r\n  });\r\n  })\r\n\r\n}\r\n\r\ngetAllStudentAttendences(accessToken: string):Promise<any>{\r\n  return new Promise((resolve, reject )=>{\r\n    const yourConfig = {\r\n      headers: {\r\n         Authorization: accessToken\r\n      }\r\n   }\r\n   axios.get('http://localhost:8888/api/attendence/getAllAttendences', yourConfig)\r\n   .then((response) => {\r\n     if(response.data ==\"token not valid\" || response.data == \"Access denied\"){\r\n     }else{\r\n       const jsonUser = JSON.stringify(response.data)\r\n       console.log(jsonUser, \": teacher All Attendences\")\r\n       localStorage.setItem('allStudentAttendences',jsonUser)\r\n       resolve(response);\r\n     }\r\n  })\r\n  .catch((error) => {\r\n     // Error ðŸ˜¨\r\n     if (error.response) {\r\n         \r\n         console.log(error.response.data);\r\n         console.log(error.response.status);\r\n         console.log(error.response.headers);\r\n     } else if (error.request) {\r\n         /*\r\n          * The request was made but no response was received, `error.request`\r\n          * is an instance of XMLHttpRequest in the browser and an instance\r\n          * of http.ClientRequest in Node.js\r\n          */\r\n         console.log(error.request);\r\n     } else {\r\n         // Something happened in setting up the request and triggered an Error\r\n         console.log('Error', error.message);\r\n     }\r\n     console.log(error.config);\r\n     reject(error)\r\n  });\r\n  })\r\n}\r\n\r\ngetAllStudents(accessToken: string):Promise<any>{\r\n  return new Promise((resolve, reject )=>{\r\n    const yourConfig = {\r\n      headers: {\r\n         Authorization: accessToken\r\n      }\r\n   }\r\n   axios.get('http://localhost:8888/api/students/getAll', yourConfig)\r\n   .then((response) => {\r\n     if(response.data ==\"Admin Only Access\" || response.data == \"Email doesn't exist\"){\r\n     }else{\r\n       const jsonUser = JSON.stringify(response.data)\r\n       console.log(jsonUser, \": All Students\")\r\n       localStorage.setItem('allStudents',jsonUser)\r\n       resolve(response);\r\n     }\r\n  })\r\n  .catch((error) => {\r\n     // Error ðŸ˜¨\r\n     if (error.response) {\r\n         \r\n         console.log(error.response.data);\r\n         console.log(error.response.status);\r\n         console.log(error.response.headers);\r\n     } else if (error.request) {\r\n         /*\r\n          * The request was made but no response was received, `error.request`\r\n          * is an instance of XMLHttpRequest in the browser and an instance\r\n          * of http.ClientRequest in Node.js\r\n          */\r\n         console.log(error.request);\r\n     } else {\r\n         // Something happened in setting up the request and triggered an Error\r\n         console.log('Error', error.message);\r\n     }\r\n     console.log(error.config);\r\n     reject(error)\r\n  });\r\n  })\r\n}\r\n\r\n getAttendenceData(accessToken: string):Promise<any>  {\r\n  return new Promise((resolve, reject )=>{\r\n    const yourConfig = {\r\n      headers: {\r\n         Authorization: accessToken\r\n      }\r\n   }\r\n   axios.get('http://localhost:8888/api/attendence/getAttendence', yourConfig)\r\n   .then((response) => {\r\n     if(response.data ==\"failed password\" || response.data == \"Email doesn't exist\"){\r\n     }else{\r\n       const jsonUser = JSON.stringify(response.data)\r\n       console.log(jsonUser, \": json user Attendence\")\r\n       localStorage.setItem('attendence',jsonUser)\r\n       resolve(response);\r\n     }\r\n  })\r\n  .catch((error) => {\r\n     // Error ðŸ˜¨\r\n     if (error.response) {\r\n         \r\n         console.log(error.response.data);\r\n         console.log(error.response.status);\r\n         console.log(error.response.headers);\r\n     } else if (error.request) {\r\n         /*\r\n          * The request was made but no response was received, `error.request`\r\n          * is an instance of XMLHttpRequest in the browser and an instance\r\n          * of http.ClientRequest in Node.js\r\n          */\r\n         console.log(error.request);\r\n     } else {\r\n         // Something happened in setting up the request and triggered an Error\r\n         console.log('Error', error.message);\r\n     }\r\n     console.log(error.config);\r\n     reject(error)\r\n  });\r\n  })\r\n}\r\n\r\n\r\ngetLectureData(accessToken:string) :Promise<any> {\r\n\r\n  return new Promise((resolve, reject )=>{\r\n\r\n    \r\n  const yourConfig = {\r\n    headers: {\r\n       Authorization: accessToken\r\n    }\r\n }\r\n axios.get('http://localhost:8888/api/lectures/allLectures', yourConfig)\r\n .then((response) => {\r\n   if(response.data ==\"failed password\" || response.data == \"Email doesn't exist\"){\r\n   }else{\r\n     const jsonUser = JSON.stringify(response.data)\r\n     console.log(jsonUser, \"  : lectures response\")\r\n     localStorage.setItem('lectures',jsonUser)\r\n     resolve(response)\r\n   }\r\n  \r\n})\r\n.catch((error) => {\r\n   // Error ðŸ˜¨\r\n   if (error.response) {\r\n       /*\r\n        * The request was made and the server responded with a\r\n        * status code that falls out of the range of 2xx\r\n        */\r\n       console.log(error.response.data);\r\n       console.log(error.response.status);\r\n       console.log(error.response.headers);\r\n   } else if (error.request) {\r\n       /*\r\n        * The request was made but no response was received, `error.request`\r\n        * is an instance of XMLHttpRequest in the browser and an instance\r\n        * of http.ClientRequest in Node.js\r\n        */\r\n       console.log(error.request);\r\n   } else {\r\n       // Something happened in setting up the request and triggered an Error\r\n       console.log('Error', error.message);\r\n   }\r\n   console.log(error.config);\r\n});\r\n  });\r\n\r\n\r\n\r\n}\r\n\r\ngetUserData(accessToken:string) :Promise<any> {\r\n  return new Promise((resolve, reject )=>{\r\n\r\n    console.log(\"hiadsfasdfasdfaswdfsdfaaaaaaaaaaaaaaaaaaa\")\r\n    const yourConfig = {\r\n      headers: {\r\n         Authorization: accessToken\r\n      }\r\n   }\r\n    axios.get('http://localhost:8888/api/students/getOneStudent', yourConfig)\r\n    .then((response) => {\r\n      if(response.data ==\"failed password\" || response.data == \"Email doesn't exist\"){\r\n      }else{\r\n        \r\n        const jsonUser = JSON.stringify(response.data)\r\n        console.log(jsonUser, \"   : user data response\")\r\n        \r\n        localStorage.setItem('user',jsonUser)\r\n        resolve(response)\r\n  \r\n      }\r\n  })\r\n  .catch((error) => {\r\n      // Error ðŸ˜¨\r\n      if (error.response) {\r\n          /*\r\n           * The request was made and the server responded with a\r\n           * status code that falls out of the range of 2xx\r\n           */\r\n          console.log(error.response.data);\r\n          console.log(error.response.status);\r\n          console.log(error.response.headers);\r\n      } else if (error.request) {\r\n          /*\r\n           * The request was made but no response was received, `error.request`\r\n           * is an instance of XMLHttpRequest in the browser and an instance\r\n           * of http.ClientRequest in Node.js\r\n           */\r\n          console.log(error.request);\r\n      } else {\r\n          // Something happened in setting up the request and triggered an Error\r\n          console.log('Error', error.message);\r\n      }\r\n      console.log(error.config);\r\n  });\r\n  });\r\n}\r\n}\r\n","\r\n\r\n\r\n\r\n    <section class=\"vh-100 gradient-custom\">\r\n        <div class=\"container py-5 h-100\">\r\n          <div class=\"row d-flex justify-content-center align-items-center h-100\">\r\n            <div class=\"col-12 col-md-8 col-lg-6 col-xl-5\">\r\n              <div class=\"card bg-dark text-white\" style=\"border-radius: 1rem;\">\r\n                <div class=\"card-body p-5 text-center\">\r\n      \r\n                  <div class=\"mb-md-5 mt-md-4 pb-5\">\r\n      \r\n                    <h2 class=\"fw-bold mb-2 text-uppercase\">Login</h2>\r\n                    <p class=\"text-white-50 mb-5\">Please enter your login and password!</p>\r\n                    \r\n                    <form [formGroup] = \"loginForm\">\r\n\r\n                      <div class=\"form-outline form-white mb-4 form-group\">\r\n                        <label class=\"form-label\" for=\"typeEmailX\">Email</label>\r\n                        <input type=\"email\" id=\"typeEmailX\" class=\"form-control form-control-lg\" formControlName=\"email\" #email/>\r\n                        <span class = \"error\" *ngIf=\"email.oninvalid\"> email invalid</span>\r\n                        \r\n                      </div>\r\n        \r\n                      <div class=\"form-outline form-white mb-4\">\r\n\r\n                        <input type=\"password\" id=\"typePasswordX\" class=\"form-control form-control-lg\" #password />\r\n                        <label class=\"form-label\" for=\"typePasswordX\">Password</label>\r\n                        \r\n                      </div>\r\n        \r\n                      <br>\r\n                      <h3> {{loginText}}</h3>\r\n        \r\n                      <button  class=\"btn btn-outline-light btn-lg px-5\" type=\"submit\" (click) =\"sendLoginRequest(email,password)\">Login </button>\r\n\r\n                    </form>\r\n      \r\n                    \r\n      \r\n                 \r\n      \r\n                  </div>\r\n      \r\n                  \r\n      \r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}